CIS 566 Homework 2: Raymarching SDFs
=====================================

Written by Julia Chun (hyojchun)

Project Results
----------------
### High Level Overview of Features

A published demo can be found here : https://hjchun96.github.io/hw02-raymarching-sdfs/
   
Below is the final image generated by the code:

![](Images/example.png)

* Ray Casting: Implemented conversion to compute correct ray cast direction.
* Scene Animation: Motorcycle that bounces up and down as it moves, as well as a road that moves past by it.
* Gui Features: Bike Speed & Lighting Effect On/Off.

Implementation Details
----------------------
### Scene Animation

* Object Composition
	The motorcycle was created by applying multiple operations to primitives. In particular, I used
	1. Smooth blend on cylinder and shpere create bike head
	2. Smooth Subtraction of two round boxes of different sizes to create bike seat
	3. Intersection of a box and a shpere used to create the headlight attached to the bike head
	4. Cheap Bend used on the neck of the motorcycle to bend it the way that imitates real bike.
	4. Union of all the other remaning shapes to put the bike together.

* Raymarch Optimization 
	Spheremarching was done. Bounding Volume Hierarchy optimization was done by creating two bounding boxes
	around 1) the bike and 2) the plane. Note that the bounding box for the plane was constrained to a certain 
	width to an extend that does not interfere with the illusion of having an infinitely stretching plane, and this may 
	have the effect of making the plane look cut off when looked at certain angles. Removing bounding box gets rids of this effect.

* Animation of Scene
  1. The position of the bike was animiated using sin functions so that the parts look like they are bouncing up and down as the bike 	 moves forward (toolbox function #1).
  2. The wheel sizes were animated by using sin functions. `u_Bikespeed` also would factor into the 
  	 amount of change of the wheel radius.
	3. The Road surface markings were procedurally generated and placed using square wave (toolbox function #2).
		 Where the output of the square wave is greater than 0, a block was placed and vice versa,
	   to achieve the effect of markings made in regular intervals. 

* Procedural texturing using toolbox functions and/or noise functions:
	As explained above, the animated road surface markings created by blocks use square waves and count as texture (confirmed by TA, they are supposed to add to the scene, its just that rather than adding patters on the plane, I used objects to give a more dynamic effect). Additionally, the plain was given texture with striped pattern to add to aesthetics. However, changing the variable 
	in line 324 `use_sqfctn` to true can achieve a similar effect while making use of the function.

* Shading
	Basic lambert reflective shading was implemented, which is only seen when the gui setting has lighting on.
	Normals estimates were calculated and used in case where shading was done.

### GUI Features
* Bike Speed: The user can toggle the bike speed between Low, Medium, and High (default is Medium). This controls
							the uniform float  `u_Bikespeed`.
* Lighting: The user can get rid of the lighting. This has the effect of changing the theme of the scene from 
							looking like the bike is floating in the sky to riding on a grassy ground.

References & Resources
----------------------
http://flafla2.github.io/2016/10/01/raymarching.html#multiple-materials

https://www.shadertoy.com/view/4tcGDr

BVH: http://fileadmin.cs.lth.se/cs/Education/EDAN30/lectures/S2-bvh.pdf